{"version":3,"sources":["../../js/statistics.js"],"names":["monthArray","rawDataIsLoading","totalPokemon","loadRawData","$","ajax","url","type","data","val","dataType","beforeSend","complete","addElement","pokemonId","name","jQuery","id","class","appendTo","imageContainer","src","alt","baseDetailContainer","href","target","title","text","onclick","processSeen","seen","i","total","shown","pokemon","sort","a","b","document","getElementById","order","options","selectedIndex","value","tmp","toLowerCase","length","item","percentage","toFixed","lastSeen","Date","getHours","getMinutes","slice","getSeconds","getDate","getMonth","getFullYear","location","html","toLocaleString","show","insertBefore","childNodes","push","indexOf","hide","innerHTML","updateMap","firstRun","duration","header","done","result","detailsLoading","detailInterval","lastappearance","pokemonid","mapLoaded","detailsPersist","map","heatmap","heatmapNumPoints","heatmapPoints","mapData","appearances","loadDetails","showTimes","marker","uuid","position","lat","lng","appearanceTab","closeTimes","addListeners","addListener","initMap","google","maps","Map","zoom","center","centerLat","centerLng","fullscreenControl","streetViewControl","mapTypeControl","mapTypeControlOptions","style","MapTypeControlStyle","DROPDOWN_MENU","ControlPosition","RIGHT_TOP","mapTypeIds","MapTypeId","ROADMAP","SATELLITE","styleNoLabels","StyledMapType","noLabelsStyle","mapTypes","set","styleDark","darkStyle","styleLight2","light2Style","stylePgo","pGoStyle","styleDarkNl","darkStyleNoLabels","styleLight2Nl","light2StyleNoLabels","stylePgoNl","pGoStyleNoLabels","s","Store","mapTypeId","setMapTypeId","get","event","redrawAppearances","resetMap","each","key","setMap","showOverlay","hash","updateDetails","window","setInterval","closeOverlay","clearInterval","processAppearance","saw","setupPokemonMarker","count","times","LatLng","Math","max","newMarker","visualization","HeatmapLayer","radius","match","replace"],"mappings":"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","file":"statistics.built.js","sourcesContent":["/* Shared */\r\nvar monthArray = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n\r\n/* Main stats page */\r\nvar rawDataIsLoading = false\r\nvar totalPokemon = 151\r\n\r\nfunction loadRawData () {\r\n  return $.ajax({\r\n    url: 'raw_data',\r\n    type: 'GET',\r\n    data: {\r\n      'pokemon': false,\r\n      'pokestops': false,\r\n      'gyms': false,\r\n      'scanned': false,\r\n      'seen': true,\r\n      'duration': $('#duration').val()\r\n    },\r\n    dataType: 'json',\r\n    beforeSend: function () {\r\n      if (rawDataIsLoading) {\r\n        return false\r\n      } else {\r\n        rawDataIsLoading = true\r\n      }\r\n    },\r\n    complete: function () {\r\n      rawDataIsLoading = false\r\n    }\r\n  })\r\n}\r\n\r\nfunction addElement (pokemonId, name) {\r\n  jQuery('<div/>', {\r\n    id: 'seen_' + pokemonId,\r\n    class: 'item'\r\n  }).appendTo('#seen_container')\r\n\r\n  jQuery('<div/>', {\r\n    id: 'seen_' + pokemonId + '_base',\r\n    class: 'container'\r\n  }).appendTo('#seen_' + pokemonId)\r\n\r\n  var imageContainer = jQuery('<div/>', {\r\n    class: 'image'\r\n  }).appendTo('#seen_' + pokemonId + '_base')\r\n\r\n  jQuery('<img/>', {\r\n    src: 'static/icons/' + pokemonId + '.png',\r\n    alt: 'Image for Pokemon #' + pokemonId\r\n  }).appendTo(imageContainer)\r\n\r\n  var baseDetailContainer = jQuery('<div/>', {\r\n    class: 'info'\r\n  }).appendTo('#seen_' + pokemonId + '_base')\r\n\r\n  jQuery('<div/>', {\r\n    id: 'name_' + pokemonId,\r\n    class: 'name'\r\n  }).appendTo(baseDetailContainer)\r\n\r\n  jQuery('<a/>', {\r\n    id: 'link_' + pokemonId,\r\n    href: 'http://www.pokemon.com/us/pokedex/' + pokemonId,\r\n    target: '_blank',\r\n    title: 'View in Pokedex',\r\n    text: name\r\n  }).appendTo('#name_' + pokemonId)\r\n\r\n  jQuery('<div/>', {\r\n    id: 'seen_' + pokemonId + '_details',\r\n    class: 'details'\r\n  }).appendTo('#seen_' + pokemonId)\r\n\r\n  jQuery('<div/>', {\r\n    id: 'count_' + pokemonId,\r\n    class: 'seen'\r\n  }).appendTo('#seen_' + pokemonId + '_details')\r\n\r\n  jQuery('<div/>', {\r\n    id: 'lastseen_' + pokemonId,\r\n    class: 'lastseen'\r\n  }).appendTo('#seen_' + pokemonId + '_details')\r\n\r\n  jQuery('<div/>', {\r\n    id: 'location_' + pokemonId,\r\n    class: 'location'\r\n  }).appendTo('#seen_' + pokemonId + '_details')\r\n\r\n  jQuery('<a/>', {\r\n    href: 'javascript:void(0);',\r\n    onclick: 'javascript:showOverlay(' + pokemonId + ');',\r\n    text: 'All Locations'\r\n  }).appendTo('#seen_' + pokemonId + '_details')\r\n}\r\n\r\nfunction processSeen (seen) {\r\n  var i\r\n  var total = seen.total\r\n  var shown = []\r\n\r\n  seen.pokemon.sort(function (a, b) {\r\n    var sort = document.getElementById('sort')\r\n    var order = document.getElementById('order')\r\n\r\n    if (order.options[order.selectedIndex].value === 'desc') {\r\n      var tmp = b\r\n      b = a\r\n      a = tmp\r\n    }\r\n\r\n    if (sort.options[sort.selectedIndex].value === 'id') {\r\n      return a['pokemon_id'] - b['pokemon_id']\r\n    } else if (sort.options[sort.selectedIndex].value === 'name') {\r\n      if (a['pokemon_name'].toLowerCase() < b['pokemon_name'].toLowerCase()) {\r\n        return 1\r\n      }\r\n      if (a['pokemon_name'].toLowerCase() > b['pokemon_name'].toLowerCase()) {\r\n        return -1\r\n      }\r\n      return 0\r\n    } else {\r\n      // Default to count\r\n      if (a['count'] === b['count']) { // Same count: order by id\r\n        return b['pokemon_id'] - a['pokemon_id']\r\n      }\r\n      return a['count'] - b['count']\r\n    }\r\n  })\r\n\r\n  for (i = seen.pokemon.length - 1; i >= 0; i--) {\r\n    var item = seen.pokemon[i]\r\n    var percentage = (item['count'] / total * 100).toFixed(2)\r\n    var lastSeen = new Date(item['disappear_time'])\r\n    lastSeen = lastSeen.getHours() + ':' +\r\n    ('0' + lastSeen.getMinutes()).slice(-2) + ':' +\r\n    ('0' + lastSeen.getSeconds()).slice(-2) + ' ' +\r\n    lastSeen.getDate() + ' ' +\r\n    monthArray[lastSeen.getMonth()] + ' ' +\r\n    lastSeen.getFullYear()\r\n    var location = (item['latitude'] * 1).toFixed(7) + ', ' + (item['longitude'] * 1).toFixed(7)\r\n    if (!$('#seen_' + item['pokemon_id']).length) {\r\n      addElement(item['pokemon_id'], item['pokemon_name'])\r\n    }\r\n    $('#count_' + item['pokemon_id']).html('<strong>Seen:</strong> ' + item['count'].toLocaleString() + ' (' + percentage + '%)')\r\n    $('#lastseen_' + item['pokemon_id']).html('<strong>Last Seen:</strong> ' + lastSeen)\r\n    $('#location_' + item['pokemon_id']).html('<strong>Location:</strong> ' + location)\r\n    $('#seen_' + item['pokemon_id']).show()\r\n    // Reverting to classic javascript here as it's supposed to increase performance\r\n    document.getElementById('seen_container').insertBefore(document.getElementById('seen_' + item['pokemon_id']), document.getElementById('seen_container').childNodes[0])\r\n    shown.push(item['pokemon_id'])\r\n  }\r\n\r\n  // Hide any unneeded items\r\n  for (i = 1; i <= totalPokemon; i++) {\r\n    if (shown.indexOf(i) < 0) {\r\n      $('#seen_' + i).hide()\r\n    }\r\n  }\r\n\r\n  document.getElementById('seen_total').innerHTML = 'Total: ' + total.toLocaleString()\r\n}\r\n\r\n// Override UpdateMap in map.js to take advantage of a pre-existing interval.\r\nfunction updateMap (firstRun) {\r\n  var duration = document.getElementById('duration')\r\n  var header = 'Pokemon Seen in ' + duration.options[duration.selectedIndex].text\r\n  if ($('#seen_header').html() !== header) {\r\n    $('#seen_container').hide()\r\n    $('#loading').show()\r\n    $('#seen_header').html('')\r\n    $('#seen_total').html('')\r\n  }\r\n  loadRawData().done(function (result) {\r\n    processSeen(result.seen)\r\n    if ($('#seen_header').html() !== header) {\r\n      $('#seen_header').html(header)\r\n      $('#loading').hide()\r\n      $('#seen_container').show()\r\n    }\r\n  })\r\n}\r\n\r\nupdateMap()\r\n\r\n/* Overlay */\r\nvar detailsLoading = false\r\nvar detailInterval = null\r\nvar lastappearance = 1\r\nvar pokemonid = 0\r\nvar mapLoaded = false\r\nvar detailsPersist = false\r\nvar map = null\r\nvar heatmap = null\r\nvar heatmapNumPoints = -1\r\nvar heatmapPoints = []\r\nmapData.appearances = {}\r\n\r\nfunction loadDetails () {\r\n  return $.ajax({\r\n    url: 'raw_data',\r\n    type: 'GET',\r\n    data: {\r\n      'pokemon': false,\r\n      'pokestops': false,\r\n      'gyms': false,\r\n      'scanned': false,\r\n      'appearances': true,\r\n      'pokemonid': pokemonid,\r\n      'last': lastappearance,\r\n      'duration': $('#duration').val()\r\n    },\r\n    dataType: 'json',\r\n    beforeSend: function () {\r\n      if (detailsLoading) {\r\n        return false\r\n      } else {\r\n        detailsLoading = true\r\n      }\r\n    },\r\n    complete: function () {\r\n      detailsLoading = false\r\n    }\r\n  })\r\n}\r\n\r\nfunction showTimes (marker) {\r\n  var uuid = marker.position.lat().toFixed(7) + '_' + marker.position.lng().toFixed(7)\r\n  $('#times_list').html(appearanceTab(mapData.appearances[uuid]))\r\n  $('#times_list').show()\r\n}\r\n\r\nfunction closeTimes () {\r\n  $('#times_list').hide()\r\n  detailsPersist = false\r\n}\r\n\r\n// Overrides addListeners in map.js\r\nfunction addListeners (marker) { // eslint-disable-line no-unused-vars\r\n  marker.addListener('click', function () {\r\n    showTimes(marker)\r\n    detailsPersist = true\r\n  })\r\n\r\n  marker.addListener('mouseover', function () {\r\n    showTimes(marker)\r\n  })\r\n\r\n  marker.addListener('mouseout', function () {\r\n    if (!detailsPersist) {\r\n      $('#times_list').hide()\r\n    }\r\n  })\r\n\r\n  return marker\r\n}\r\n\r\n// Override map.js initMap\r\nfunction initMap () {\r\n  map = new google.maps.Map(document.getElementById('location_map'), {\r\n    zoom: 16,\r\n    center: {\r\n      lat: centerLat,\r\n      lng: centerLng\r\n    },\r\n    fullscreenControl: false,\r\n    streetViewControl: false,\r\n    mapTypeControl: true,\r\n    mapTypeControlOptions: {\r\n      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,\r\n      position: google.maps.ControlPosition.RIGHT_TOP,\r\n      mapTypeIds: [\r\n        google.maps.MapTypeId.ROADMAP,\r\n        google.maps.MapTypeId.SATELLITE,\r\n        'nolabels_style',\r\n        'dark_style',\r\n        'style_light2',\r\n        'style_pgo',\r\n        'dark_style_nl',\r\n        'style_light2_nl',\r\n        'style_pgo_nl'\r\n      ]\r\n    }\r\n  })\r\n\r\n  var styleNoLabels = new google.maps.StyledMapType(noLabelsStyle, {\r\n    name: 'No Labels'\r\n  })\r\n  map.mapTypes.set('nolabels_style', styleNoLabels)\r\n\r\n  var styleDark = new google.maps.StyledMapType(darkStyle, {\r\n    name: 'Dark'\r\n  })\r\n  map.mapTypes.set('dark_style', styleDark)\r\n\r\n  var styleLight2 = new google.maps.StyledMapType(light2Style, {\r\n    name: 'Light2'\r\n  })\r\n  map.mapTypes.set('style_light2', styleLight2)\r\n\r\n  var stylePgo = new google.maps.StyledMapType(pGoStyle, {\r\n    name: 'PokemonGo'\r\n  })\r\n  map.mapTypes.set('style_pgo', stylePgo)\r\n\r\n  var styleDarkNl = new google.maps.StyledMapType(darkStyleNoLabels, {\r\n    name: 'Dark (No Labels)'\r\n  })\r\n  map.mapTypes.set('dark_style_nl', styleDarkNl)\r\n\r\n  var styleLight2Nl = new google.maps.StyledMapType(light2StyleNoLabels, {\r\n    name: 'Light2 (No Labels)'\r\n  })\r\n  map.mapTypes.set('style_light2_nl', styleLight2Nl)\r\n\r\n  var stylePgoNl = new google.maps.StyledMapType(pGoStyleNoLabels, {\r\n    name: 'PokemonGo (No Labels)'\r\n  })\r\n  map.mapTypes.set('style_pgo_nl', stylePgoNl)\r\n\r\n  map.addListener('maptypeid_changed', function (s) {\r\n    Store.set('map_style', this.mapTypeId)\r\n  })\r\n\r\n  map.setMapTypeId(Store.get('map_style'))\r\n  google.maps.event.addListener(map, 'idle', updateMap)\r\n\r\n  mapLoaded = true\r\n\r\n  google.maps.event.addListener(map, 'zoom_changed', function () {\r\n    redrawAppearances(mapData.appearances)\r\n  })\r\n}\r\n\r\nfunction resetMap () {\r\n  $.each(mapData.appearances, function (key, value) {\r\n    mapData.appearances[key].marker.setMap(null)\r\n    delete mapData.appearances[key]\r\n  })\r\n\r\n  heatmapPoints = []\r\n  heatmapNumPoints = 0\r\n  if (heatmap) {\r\n    heatmap.setMap(null)\r\n  }\r\n\r\n  lastappearance = 0\r\n}\r\n\r\nfunction showOverlay (id) {\r\n  // Only load google maps once, and only if requested\r\n  if (!mapLoaded) {\r\n    initMap()\r\n  }\r\n  resetMap()\r\n  pokemonid = id\r\n  $('#location_details').show()\r\n  location.hash = 'overlay_' + pokemonid\r\n  updateDetails()\r\n  detailInterval = window.setInterval(updateDetails, 5000)\r\n\r\n  return false\r\n}\r\n\r\nfunction closeOverlay () { // eslint-disable-line no-unused-vars\r\n  $('#location_details').hide()\r\n  window.clearInterval(detailInterval)\r\n  closeTimes()\r\n  location.hash = ''\r\n  return false\r\n}\r\n\r\nfunction processAppearance (i, item) {\r\n  var saw = new Date(item['disappear_time'])\r\n  saw = saw.getHours() + ':' +\r\n  ('0' + saw.getMinutes()).slice(-2) + ':' +\r\n  ('0' + saw.getSeconds()).slice(-2) + ' ' +\r\n  saw.getDate() + ' ' +\r\n  monthArray[saw.getMonth()] + ' ' +\r\n  saw.getFullYear()\r\n  var uuid = item['latitude'].toFixed(7) + '_' + item['longitude'].toFixed(7)\r\n  if (!((uuid) in mapData.appearances)) {\r\n    if (item['marker']) {\r\n      item['marker'].setMap(null)\r\n    }\r\n    item['count'] = 1\r\n    item['times'] = [saw]\r\n    item['uuid'] = uuid\r\n    item['marker'] = setupPokemonMarker(item, true)\r\n\r\n    mapData.appearances[item['uuid']] = item\r\n  } else {\r\n    mapData.appearances[uuid].count++\r\n    mapData.appearances[uuid].times.push(saw)\r\n  }\r\n\r\n  heatmapPoints.push(new google.maps.LatLng(item['latitude'], item['longitude']))\r\n  lastappearance = Math.max(lastappearance, item['disappear_time'])\r\n}\r\n\r\nfunction redrawAppearances (appearances) {\r\n  $.each(appearances, function (key, value) {\r\n    var item = appearances[key]\r\n    if (!item['hidden']) {\r\n      var newMarker = setupPokemonMarker(item, true)\r\n      item['marker'].setMap(null)\r\n      appearances[key].marker = newMarker\r\n    }\r\n  })\r\n}\r\n\r\nfunction appearanceTab (item) {\r\n  var times = ''\r\n\r\n  $.each(item['times'], function (key, value) {\r\n    times = '<div class=\"row' + (key % 2) + '\">' + value + '</div>' + times\r\n  })\r\n\r\n  return `<div>\r\n                <a href=\"javascript:closeTimes();\">Close this tab</a>\r\n            </div>\r\n            <div class=\"row1\">\r\n                <strong>Lat:</strong> ${item['latitude'].toFixed(7)}\r\n            </div>\r\n            <div class=\"row0\">\r\n                <strong>Long:</strong> ${item['longitude'].toFixed(7)}\r\n            </div>\r\n            <div class=\"row1\">\r\n              <strong>Appearances:</strong> ${item['count'].toLocaleString()}\r\n            </div>\r\n            <div class=\"row0\"><strong>Times:</strong></div>\r\n            <div>\r\n                ${times}\r\n            </div>`\r\n}\r\n\r\nfunction updateDetails () {\r\n  loadDetails().done(function (result) {\r\n    $.each(result.appearances, processAppearance)\r\n\r\n    // Redraw the heatmap with all the new appearances\r\n    if (heatmapNumPoints !== heatmapPoints.length) {\r\n      if (heatmap) {\r\n        heatmap.setMap(null)\r\n      }\r\n      heatmap = new google.maps.visualization.HeatmapLayer({\r\n        data: heatmapPoints,\r\n        map: map,\r\n        radius: 50\r\n      })\r\n      heatmapNumPoints = heatmapPoints.length\r\n    }\r\n  })\r\n}\r\n\r\nif (location.href.match(/overlay_[0-9]+/g)) {\r\n  showOverlay(location.href.replace(/^.*overlay_([0-9]+).*$/, '$1'))\r\n}\r\n"]}